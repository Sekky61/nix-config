@use 'sass:color';
@use 'lib_mixins';
@use 'material';

$sidebar_chat_textboxareaColor: color.mix(material.$onSurfaceVariant, material.$surfaceVariant, 40%);
$textboxColor: color.mix(material.$surface, material.$surfaceVariant, 80%);
$system: material.$secondary;
$onSystem: material.$onSecondary;
$chatgpt: material.$primary;
$onChatgpt: material.$onPrimary;

@mixin group-padding {
    padding: 0.341rem;
}

.sidebar-right {
    @include lib_mixins.menu_decel;
    @include lib_mixins.elevation-border;
    @include lib_mixins.elevation2;
    border-radius: lib_mixins.$rounding_large - lib_mixins.$elevation_margin + 0.068rem;
    min-width: 27.818rem; // COMMENT THIS LATER IF TEXT WRAP IS USED
    // min-height: 29.591rem;
    background-color: material.$t_background;
    padding: 1.023rem;
}

.sideright-show {
    @include lib_mixins.menu_decel;
}

.sideright-hide {
    @include lib_mixins.menu_accel;
    margin-right: -30.682rem;
    // opacity: 0;
}

.sidebar-left {
    @include lib_mixins.menu_decel;
    @include lib_mixins.elevation-border;
    @include lib_mixins.elevation2;
    border-radius: lib_mixins.$rounding_large - lib_mixins.$elevation_margin + 0.068rem;
    min-width: 27.818rem; // COMMENT THIS LATER IF TEXT WRAP IS USED
    // min-height: 29.591rem;
    background-color: material.$t_background;
    padding: 1.023rem;
}

.sideleft-show {
    @include lib_mixins.menu_decel;
}

.sideleft-hide {
    margin-left: -30.682rem;
    // opacity: 0;
    @include lib_mixins.menu_accel;
}

.sidebar-group {
    @include lib_mixins.normal-rounding;
    @include group-padding;
    background-color: material.$t_surface;
}

.sidebar-group-nopad {
    @include lib_mixins.normal-rounding;
    background-color: material.$t_surface;
}

.sidebar-group-invisible {
    @include group-padding;
}

.sidebar-group-invisible-morehorizpad {
    padding: 0.341rem 0.682rem;
}

.sidebar-togglesbox {
    @include lib_mixins.full-rounding;
    @include group-padding;
    background-color: material.$t_surface;
}

.sidebar-iconbutton {
    @include lib_mixins.full-rounding;
    @include lib_mixins.element_decel;
    color: material.$onSurface;
    min-width: 2.727rem;
    min-height: 2.727rem;
}

.sidebar-iconbutton:hover,
.sidebar-iconbutton:focus {
    background-color: material.$hovercolor;
}

.sidebar-iconbutton:active {
    background-color: material.$activecolor;
}

.sidebar-button {
    @include lib_mixins.element_decel;
    padding: 0rem lib_mixins.$rounding_small;
    background-color: material.$t_secondaryContainer;
    color: material.$onSecondaryContainer;
}

.sidebar-button:hover,
.sidebar-button:focus {
    background-color: material.$hovercolor;
}

.sidebar-button:active {
    background-color: material.$activecolor;
}

.sidebar-button-active {
    background-color: material.$primary;
    color: material.$onPrimary;
}

.sidebar-button-active:hover,
.sidebar-button-active:focus {
    background-color: color.mix(material.$primary, material.$hovercolor, 70%);
}

.sidebar-button-active:active {
    background-color: color.mix(material.$primary, material.$hovercolor, 40%);
}

.sidebar-buttons-separator {
    min-width: 0.068rem;
    min-height: 0.068rem;
    background-color: material.$onSurfaceVariant;
}

.sidebar-navrail {
    // background-color: material.$t_surface;
    padding: 0rem lib_mixins.$rounding_medium;
}

.sidebar-navrail-btn>box>label {
    @include lib_mixins.full-rounding;
    @include lib_mixins.menu_decel;
}

.sidebar-navrail-btn:hover>box>label:first-child,
.sidebar-navrail-btn:focus>box>label:first-child {
    background-color: material.$hovercolor;
}

.sidebar-navrail-btn:active>box>label:first-child {
    background-color: material.$activecolor;
}

.sidebar-navrail-btn-active>box>label:first-child {
    background-color: material.$secondaryContainer;
    color: material.$onSecondaryContainer;
}

.sidebar-navrail-btn-active:hover>box>label:first-child,
.sidebar-navrail-btn-active:focus>box>label:first-child {
    background-color: color.mix(material.$secondaryContainer, material.$hovercolor, 90%);
    color: color.mix(material.$onSecondaryContainer, material.$hovercolor, 90%);
}

.sidebar-sysinfo-grouppad {
    padding: 1.159rem;
}

.sidebar-memory-ram-circprog {
    @include lib_mixins.fluent_decel_long;
    min-width: lib_mixins.$rounding_small;
    min-height: 4.091rem;
    padding: 0.409rem;
    background-color: material.$secondaryContainer;
    color: material.$onSecondaryContainer;
    font-size: 0px;
}

.sidebar-memory-swap-circprog {
    @include lib_mixins.fluent_decel_long;
    min-width: lib_mixins.$rounding_small;
    min-height: 2.255rem;
    padding: 0.409rem;
    margin: 0.918rem;
    background-color: material.$secondaryContainer;
    color: material.$onSecondaryContainer;
    font-size: 0px;
}

.sidebar-cpu-circprog {
    min-width: lib_mixins.$rounding_small;
    min-height: 3.409rem;
    padding: 0.409rem;
    background-color: material.$secondaryContainer;
    color: material.$onSecondaryContainer;
    @include lib_mixins.fluent_decel_long;
    font-size: 0px;
}

.sidebar-scrollbar {
    trough {
        @include lib_mixins.full-rounding;
        min-width: 0.545rem;
        background-color: transparent;
    }

    slider {
        @include lib_mixins.full-rounding;
        @include lib_mixins.element_decel;
        min-width: 0.273rem;
        min-height: 2.045rem;
        background-color: material.$t_onSurfaceVariant;
    }

    slider:hover,
    slider:focus {
        background-color: color.mix(material.$t_onSurfaceVariant, material.$onSurfaceVariant, 80%);
    }

    slider:active {
        background-color: color.mix(material.$onSurfaceVariant, material.$surfaceVariant, 50%);
    }
}

.sidebar-calendar-btn {
    @include lib_mixins.full-rounding;
    @include lib_mixins.element_decel;
    min-height: 2.523rem;
    min-width: 2.523rem;
    color: material.$onSurface;
}

.sidebar-calendar-btn:hover,
.sidebar-calendar-btn:focus {
    background-color: material.$hovercolor;
}

.sidebar-calendar-btn:active {
    background-color: material.$activecolor;
}

.sidebar-calendar-btn-txt {
    margin-left: -10.341rem;
    margin-right: -10.341rem;
}

.sidebar-calendar-btn-today {
    background-color: material.$primary;
    color: material.$onPrimary;
}

.sidebar-calendar-btn-today:hover,
.sidebar-calendar-btn-today:focus {
    background-color: color.mix(material.$primary, material.$hovercolor, 70%);
}

.sidebar-calendar-btn-today:active {
    background-color: color.mix(material.$primary, material.$hovercolor, 40%);
}

.sidebar-calendar-btn-othermonth {
    color: color.mix(material.$onSurface, material.$surface, 50%);
}

.sidebar-calendar-header {
    margin: 0.341rem;
}

.sidebar-calendar-monthyear-btn {
    @include lib_mixins.full-rounding;
    @include lib_mixins.element_decel;
    padding: 0rem 0.682rem;
    background-color: material.$t_surfaceVariant;
    color: material.$onSurfaceVariant;
}

.sidebar-calendar-monthyear-btn:hover,
.sidebar-calendar-monthyear-btn:focus {
    background-color: material.$hovercolor;
    color: color.mix(material.$onSurfaceVariant, material.$surfaceVariant, 95%);
}

.sidebar-calendar-monthyear-btn:active {
    background-color: material.$activecolor;
    color: color.mix(material.$onSurfaceVariant, material.$surfaceVariant, 85%);
}

.sidebar-calendar-monthshift-btn {
    @include lib_mixins.full-rounding;
    @include lib_mixins.element_decel;
    min-width: 2.045rem;
    min-height: 2.045rem;
    background-color: material.$t_surfaceVariant;
    color: material.$onSurfaceVariant;
}

.sidebar-calendar-monthshift-btn:hover {
    background-color: material.$hovercolor;
    color: color.mix(material.$onSurfaceVariant, material.$surfaceVariant, 95%);
}

.sidebar-calendar-monthshift-btn:active {
    background-color: material.$activecolor;
    color: color.mix(material.$onSurfaceVariant, material.$surfaceVariant, 85%);
}

.sidebar-selector-tab {
    @include lib_mixins.small-rounding;
    @include lib_mixins.element_decel;
    min-height: 2.5rem;
    color: material.$onSurface;
}

.sidebar-selector-tab:hover,
.sidebar-selector-tab:focus {
    background-color: material.$hovercolor;
}

.sidebar-selector-tab:active {
    background-color: material.$activecolor;
}

.sidebar-selector-tab-active>box>label {
    color: material.$primary;
}

.sidebar-selector-highlight-offset {
    margin-top: -0.205rem;
    margin-bottom: 0.205rem;
}

.sidebar-selector-highlight {
    transition: 180ms ease-in-out; // Doesn't look that good, but it syncs with the GtkStack
    color: material.$primary;
    // padding: 0rem 2.045rem;
    min-height: 0.205rem;
}

.sidebar-todo-item {
    padding-right: 0.545rem;
}

.sidebar-todo-item-even {
    background-color: material.$t_t_surfaceVariant;
}

.sidebar-todo-item-action {
    @include lib_mixins.element_decel;
    border-radius: 9999px;
    min-width: 1.705rem;
    min-height: 1.705rem;
}

.sidebar-todo-item-action:hover,
.sidebar-todo-item-action:focus {
    background-color: material.$hovercolor;
}

.sidebar-todo-item-action:active {
    background-color: material.$activecolor;
}

.sidebar-todo-crosser {
    transition: margin 200ms cubic-bezier(0.1, 1, 0, 1), background-color 0ms;
    min-width: 0rem;
}

.sidebar-todo-crosser-crossed {
    background-color: material.$onBackground;
}

.sidebar-todo-crosser-removed {
    background-color: material.$error;
}

.sidebar-todo-new {
    @include lib_mixins.full-rounding;
    @include lib_mixins.element_decel;
    color: material.$onSecondaryContainer;
    margin: 0.341rem;
    padding: 0.205rem 0.545rem;
    border: 0.068rem solid material.$onSurface;
}

.sidebar-todo-new,
.sidebar-todo-new:focus {
    background-color: color.mix(material.$t_secondaryContainer, material.$t_onSecondaryContainer, 97%);
}

.sidebar-todo-new:active {
    background-color: color.mix(material.$t_secondaryContainer, material.$t_onSecondaryContainer, 80%);
}

.sidebar-todo-add {
    @include lib_mixins.element_decel;
    @include lib_mixins.small-rounding;
    min-width: 1.705rem;
    min-height: 1.705rem;
    color: material.$onSecondaryContainer;
    border: 0.068rem solid material.$onSurface;
}

.sidebar-todo-add:hover,
.sidebar-todo-add:focus {
    background-color: color.mix(material.$t_secondaryContainer, material.$t_onSecondaryContainer, 97%);
}

.sidebar-todo-add:active {
    background-color: color.mix(material.$t_secondaryContainer, material.$t_onSecondaryContainer, 80%);
}

.sidebar-todo-add-available {
    @include lib_mixins.element_decel;
    @include lib_mixins.small-rounding;
    min-width: 1.705rem;
    min-height: 1.705rem;
    background-color: material.$primary;
    color: material.$onPrimary;
    border: 0.068rem solid material.$primary;
}

.sidebar-todo-add-available:hover,
.sidebar-todo-add-available:focus {
    background-color: color.mix(material.$primary, material.$onPrimary, 97%);
}

.sidebar-todo-add-available:active {
    background-color: color.mix(material.$primary, material.$onPrimary, 80%);
}

.sidebar-todo-entry {
    @include lib_mixins.element_decel;
    @include lib_mixins.small-rounding;
    background-color: material.$surfaceVariant;
    color: material.$onSurfaceVariant;
    caret-color: material.$onSurfaceVariant;
    margin: 0rem 0.341rem;
    min-height: 1.773rem;
    min-width: 0rem;
    padding: 0.205rem 0.682rem;
    border: 0.068rem solid color.mix(material.$onSurfaceVariant, material.$surfaceVariant, 50%);
}

.sidebar-todo-entry:focus {
    border: 0.068rem solid color.mix(material.$onSurfaceVariant, material.$surfaceVariant, 90%);
}

.sidebar-module {
    @include lib_mixins.normal-rounding;
    @include group-padding;
    background-color: material.$l_l_t_surfaceVariant;
    padding: 0.682rem;
}

.sidebar-module-btn-arrow {
    @include lib_mixins.full-rounding;
    @include lib_mixins.icon-material;
    background-color: material.$l_l_t_surfaceVariant;
    min-width: 1.705rem;
    min-height: 1.705rem;

    &:hover {
        background-color: material.$hovercolor;
    }
}

.sidebar-module-scripts-button {
    @include lib_mixins.full-rounding;
    @include lib_mixins.icon-material;
    background-color: material.$l_l_t_surfaceVariant;
    min-width: 1.705rem;
    min-height: 1.705rem;

    &:hover {
        background-color: material.$hovercolor;
    }

    &:active {
        background-color: material.$activecolor;
    }
}

$colorpicker_rounding: 0.341rem;

.sidebar-module-colorpicker-wrapper {
    padding: 0.341rem;
}

.sidebar-module-colorpicker-cursorwrapper {
    padding: 0.341rem 0.136rem;
}

.sidebar-module-colorpicker-hue {
    min-height: 13.636rem;
    min-width: 1.091rem;
    border-radius: $colorpicker_rounding;
}

.sidebar-module-colorpicker-hue-cursor {
    background-color: material.$onBackground;
    border: 0.136rem solid material.$onBackground;
    min-height: 0.136rem;
    margin-top: -0.136rem;
    border-radius: $colorpicker_rounding;
}

.sidebar-module-colorpicker-saturationandlightness-wrapper {
    padding: 0.341rem;
}

.sidebar-module-colorpicker-saturationandlightness {
    min-height: 13.636rem;
    min-width: 13.636rem;
    border-radius: $colorpicker_rounding;
}

.sidebar-module-colorpicker-saturationandlightness-cursorwrapper {
    padding: 0.341rem;
    margin-top: -0.409rem;
    margin-left: -0.409rem;
}

.sidebar-module-colorpicker-saturationandlightness-cursor {
    @include lib_mixins.full-rounding;
    border: 0.136rem solid white;
    min-width: 0.682rem;
    min-height: 0.682rem;
    margin-top: -0.409rem;
    margin-left: -0.409rem;
}

.sidebar-module-colorpicker-result-area {
    padding: 0.341rem;
}

.sidebar-module-colorpicker-result-box {
    border-radius: $colorpicker_rounding;
    min-width: 2.045rem;
    min-height: 0.682rem;
    padding: 0.341rem;
}

.sidebar-chat-apiswitcher {
    @include lib_mixins.full-rounding;
    @include group-padding;
    background-color: material.$t_surface;
}

.sidebar-chat-apiswitcher-icon {
    @include lib_mixins.element_decel;
    @include lib_mixins.full-rounding;
    min-width: 2.182rem;
    min-height: 2.182rem;
    font-size: 1.406rem;
    color: material.$onSurface;
}

.sidebar-chat-apiswitcher-icon-enabled {
    background-color: material.$secondaryContainer;
    color: material.$onSecondaryContainer;
}

.sidebar-chat-viewport {
    @include lib_mixins.element_decel;
    // margin: 0.682rem 0rem;
    padding: 0.682rem 0rem;
}

.sidebar-chat-textarea {
    @include lib_mixins.normal-rounding;
    background-color: $textboxColor;
    color: material.$onSurfaceVariant;
    padding: 0.682rem;
}

.sidebar-chat-entry {
    color: material.$onSurfaceVariant;
    caret-color: material.$onSurfaceVariant;
    min-height: 1.773rem;
    min-width: 0rem;
}

.sidebar-chat-wrapper {
    transition: 400ms cubic-bezier(0.1, 1, 0, 1);
}

.sidebar-chat-wrapper-extended {
    min-height: 7.500rem;
}

.sidebar-chat-send {
    @include lib_mixins.element_decel;
    min-width: 1.705rem;
    min-height: 1.705rem;
    border-radius: lib_mixins.$rounding_medium - 0.681rem;
}

.sidebar-chat-send:hover,
.sidebar-chat-send:focus {
    background-color: material.$surfaceVariant;
}

.sidebar-chat-send:active {
    background-color: color.mix(material.$surfaceVariant, material.$onBackground, 80%);
}

.sidebar-chat-send-available {
    background-color: material.$primary;
    color: material.$onPrimary;
}

.sidebar-chat-send-available:hover,
.sidebar-chat-send-available:focus {
    background-color: color.mix(material.$primary, material.$onPrimary, 97%);
}

.sidebar-chat-send-available:active {
    background-color: color.mix(material.$primary, material.$onPrimary, 80%);
}

.sidebar-chat-message {
    margin: 0.682rem;
}

.sidebar-chat-indicator {
    @include lib_mixins.element_decel;
    @include lib_mixins.full-rounding;
    min-width: 0.136rem;
    background-color: material.$onBackground;
}

.sidebar-chat-indicator-user {
    background-color: material.$onBackground;
}

.sidebar-chat-indicator-bot {
    background-color: $chatgpt;
}

.sidebar-chat-indicator-System {
    background-color: $system;
}

.sidebar-chat-name {
    @include lib_mixins.titlefont;
    padding: 0.341rem;
    margin-left: -0.136rem;
    padding-left: 0.818rem;
}

.sidebar-chat-txtblock {
    margin-left: -0.136rem;
    padding: 0.341rem;
    padding-left: 0.818rem;
}

.sidebar-chat-txt {
    @include lib_mixins.readingfont;
}

.sidebar-chat-codeblock {
    @include lib_mixins.normal-rounding;
    // @include lib_mixins.elevation2;
    background-color: material.$termbg;
    color: material.$termfg;
    margin: 0rem 0.682rem;
    border: 0.068rem solid material.$t_t_t_onSecondaryContainer;
}

.sidebar-chat-codeblock-topbar {
    @include lib_mixins.mainfont;
    margin: 0.273rem;
    margin-bottom: 0rem;
    background-color: color.mix(material.$t_secondaryContainer, material.$t_onSurfaceVariant, 30%);
    color: material.$onSecondaryContainer;
    border-radius: lib_mixins.$rounding_medium - 0.273rem;
    border: 0.068rem solid color.mix(material.$secondaryContainer, material.$onSecondaryContainer, 90%);
    border-top-left-radius: lib_mixins.$rounding_small + 0.068rem;
    border-top-right-radius: lib_mixins.$rounding_small + 0.068rem;
    padding: 0.341rem 0.477rem;
}

.sidebar-chat-codeblock-topbar-txt {
    @include lib_mixins.full-rounding;
    padding: 0.273rem;
}

.sidebar-chat-codeblock-topbar-btn {
    @include lib_mixins.full-rounding;
    @include lib_mixins.element_decel;
    padding: 0.273rem 0.477rem;
}

.sidebar-chat-codeblock-topbar-btn:hover,
.sidebar-chat-codeblock-topbar-btn:focus {
    background-color: color.mix(material.$t_secondaryContainer, material.$t_onSecondaryContainer, 80%);
}

.sidebar-chat-codeblock-topbar-btn:active {
    background-color: color.mix(material.$t_secondaryContainer, material.$t_onSecondaryContainer, 60%);
}

.sidebar-chat-codeblock-code {
    @include lib_mixins.techfont;
    padding: 0.682rem;
}

.sidebar-chat-divider {
    min-height: 1px;
    background-color: $sidebar_chat_textboxareaColor;
    margin: 0rem 0.545rem;
}

.sidebar-chat-welcome-txt {
    margin: 0rem 3.409rem;
}

.sidebar-chat-settings-toggles {
    margin: 0rem 5.455rem;
}

.sidebar-chat-welcome-icon {
    @include lib_mixins.full-rounding;
    font-size: 4rem;
}

.sidebar-chat-welcome-logo {
    @include lib_mixins.full-rounding;
    @include lib_mixins.element_decel;
    @include lib_mixins.icon-material;
    min-height: 4.773rem;
    min-width: 4.773rem;
    font-size: 3.076rem;
    background-color: material.$onBackground;
    color: material.$background;
}

.sidebar-chat-chip {
    @include lib_mixins.element_decel;
    @include lib_mixins.small-rounding;
    padding: 0.341rem 0.477rem;
}

.sidebar-chat-chip-action {
    @include lib_mixins.element_decel;
    background-color: $textboxColor;
    color: material.$onSurfaceVariant;
}

.sidebar-chat-chip-action:hover,
.sidebar-chat-chip-action:focus {
    background-color: material.$hovercolor;
}

.sidebar-chat-chip-action:active {
    background-color: material.$activecolor;
}

.sidebar-chat-chip-action-active {
    color: $sidebar_chat_textboxareaColor;
    border: 0.068rem solid $sidebar_chat_textboxareaColor;
}

.sidebar-chat-chip-toggle {
    @include lib_mixins.element_decel;
    @include lib_mixins.small-rounding;
    padding: 0.341rem 0.477rem;
    background-color: $textboxColor;
    color: material.$onSurfaceVariant;
}

.sidebar-chat-chip-toggle:focus,
.sidebar-chat-chip-toggle:hover {
    background-color: material.$hovercolor;
}

.sidebar-chat-chip-toggle:active {
    background-color: material.$activecolor;
}

.sidebar-pin {
    @include lib_mixins.small-rounding;
    @include lib_mixins.element_decel;
    min-height: 2.386rem;
    min-width: 2.386rem;
    color: material.$onSurface;
}

.sidebar-pin:hover,
.sidebar-pin:focus {
    background-color: material.$hovercolor;
}

.sidebar-pin:active {
    background-color: material.$activecolor;
}

.sidebar-pin-enabled {
    background-color: material.$primary;

    label {
        color: material.$onPrimary;
    }
}

.sidebar-pin-enabled:hover,
.sidebar-pin-enabled:focus {
    background-color: color.mix(material.$primary, material.$onPrimary, 90%);
}

.sidebar-pin-enabled:active {
    background-color: color.mix(material.$primary, material.$onPrimary, 80%);
}

.sidebar-waifu-heading {
    @include lib_mixins.titlefont;
    padding: 0.341rem;
    margin-left: -0.136rem;
    padding-left: 0.818rem;
}

.sidebar-waifu-content {
    margin-left: 0.682rem;
}

.sidebar-waifu-txt {
    @include lib_mixins.readingfont;
    margin-left: 0.682rem;
}

.sidebar-waifu-image {
    margin-left: 0.682rem;
    @include lib_mixins.normal-rounding;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
}

.sidebar-waifu-image-actions {
    @include lib_mixins.element_decel;
    padding: 0.313rem;
}

$waifu_image_overlay_transparency: 0.7;

.sidebar-waifu-image-action {
    @include lib_mixins.full-rounding;
    min-width: 1.875rem;
    min-height: 1.875rem;
    background-color: rgba(0, 0, 0,
            $waifu_image_overlay_transparency ); // Fixed cuz on image
    color: rgba(255, 255, 255, $waifu_image_overlay_transparency);
}

.sidebar-waifu-image-action:hover,
.sidebar-waifu-image-action:focus {
    background-color: rgba(30, 30, 30, $waifu_image_overlay_transparency);
}

.sidebar-waifu-image-action:active {
    background-color: rgba(60, 60, 60, $waifu_image_overlay_transparency);
}

// Ollama / local

.model-dropdown {
    background-color: material.$secondaryContainer;
    color: material.$onSecondaryContainer;
    caret-color: material.$onSecondaryContainer;
    border-radius: 999px;
    font-size: 1.3rem;
    padding: 0.341rem 1.364rem;
    margin: 0.477rem;
    box-shadow: 2px 2px 4px rgba(22, 22, 22, 0.5);
    min-height: 2.727rem;

}
